---------- DATOS DE CONEXION DB ----------

Hostname (Interno): dpg-d4iimdur433s73a1mqog-a

Hostname (Externo): dpg-d4iimdur433s73a1mqog-a.oregon-postgres.render.com

Port: 5432

Database: oficiosdb

Username: admin

Password: HIkmQupsGyysPzuzaQWeOWYCJCqlL7RD

Internal Database URL: postgresql://admin:HIkmQupsGyysPzuzaQWeOWYCJCqlL7RD@dpg-d4iimdur433s73a1mqog-a/oficiosdb

External Database URL: postgresql://admin:HIkmQupsGyysPzuzaQWeOWYCJCqlL7RD@dpg-d4iimdur433s73a1mqog-a.oregon-postgres.render.com/oficiosdb

PSQL Command: PGPASSWORD=HIkmQupsGyysPzuzaQWeOWYCJCqlL7RD psql -h dpg-d4iimdur433s73a1mqog-a.oregon-postgres.render.com -U admin oficiosdb







---------- ESTRUCTURA DE LAS TABLAS ----------

USUARIO (PARA REALIZAR EL LOGIN)

  COLUMNA	|        TIPO           |                                 PROPÓSITO                                                           |
                |                       |                                                                                                     |
id_usuario	| SERIAL PRIMARY KEY	| Identificador único.	No se toca al insertar. Java solo lo usa para buscar la sesión.               |
                |              		|												      |
nombre_usuario	| VARCHAR(50) UNIQUE	| Campo para el login.	Es el campo de búsqueda para iniciar sesión.				      |
                |                       |                                                                                                     |
password	| TEXT	Contraseña.	| Java debe compararlo directamente para verificar la credencial.                                     |




PERSONAS (REGISTRO)

COLUMNA    	|        TIPO           |                                 PROPÓSITO                                                           |
                |                       |                                                                                                     |
id_persona	| SERIAL PRIMARY KEY	| Clave principal. Identificador único para cada persona.                                             |
                |              		|												      |
nombre       	| VARCHAR(100)   	| Nombre completo	                                                 			      |
                |                       |                                                                                                     |
area    	| VARCHAR(50)   	| Área de trabajo de la persona                                                                       |




OFICIO (HASH Y PRINCIPAL)

COLUMNA    	|        TIPO           |                                 PROPÓSITO                                                           |
                |                       |                                                                                                     |
num_oficio	| VARCHAR(20) PK	| Clave principal. Identificador único para cada persona.                                             |
                |              		|												      |
id_persona    	| INTEGER NOT NULL    	| Clave Foránea. Enlaza a la tabla personas.                                   			      |
                | REFERENCES            | 												      |
                |                       |                                                                                                     |
hash    	| VARCHAR(64) UNIQUE   	| Al insertar un nuevo oficio, la API debe calcular el hash (SHA-256) de los datos y guardarlo aquí.  |







---------- CONSULTA NECESARIA PARA GENERAR LA TABLA COMPLETA ----------
SELECT 
    o.num_oficio as N_oficio,       -- Número de Oficio (de la tabla oficios)
    p.nombre as Persona,            -- Nombre de la Persona (de la tabla personas)
    p.area as Area,                 -- Área de la Persona (de la tabla personas)
    o.asunto as Asunto,             -- Asunto (de la tabla oficios)
    o.fecha as Fecha,               -- Fecha (de la tabla oficios)
    o.hash  as Hash                 -- Hash (de la tabla oficios)
FROM 
    oficios o                   -- Selecciona la tabla oficios (alias 'o')
JOIN 
    personas p                  -- Une la tabla oficios con la tabla personas (alias 'p')
ON 
    o.id_persona = p.id_persona;-- Donde el id_persona sea el mismo en ambas







---------- DATOS ADICIONALES ----------

Versión de postgreSQL: 18.1

La carpeta "DB LOCAL", contiene un respaldo de la base de datos para pruebas locales.

La carpeta "EVIDENCIA", contiene el proceso de creación de la base de datos.

- Si la conexión falla, revisar que se esté utilizando el hostname correcto, en este caso, se utilizará el externo.

- Si la conexión sí valida el hostname, pero hay un error, activa o desactiva SSL respectivamente.